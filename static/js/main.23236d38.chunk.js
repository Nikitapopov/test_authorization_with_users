(this.webpackJsonpemphasoft_test=this.webpackJsonpemphasoft_test||[]).push([[0],{194:function(e,a,t){e.exports={user:"Users_user__3uQ3G",user__container:"Users_user__container__2aSsB"}},269:function(e,a,t){e.exports={block:"AuthBlock_block__2praq"}},281:function(e,a,t){e.exports=t(510)},286:function(e,a,t){},41:function(e,a,t){e.exports={auth:"AuthForm_auth__14J6s",auth__top:"AuthForm_auth__top__3C-pl",auth__buttonColor:"AuthForm_auth__buttonColor__1M5LD",auth__input:"AuthForm_auth__input__YtYD9",auth__successBlock:"AuthForm_auth__successBlock__1Mxij"}},510:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(26),u=t.n(s),i=(t(286),t(32)),l=t(98),c=t(66),o=t(106),m=t(45),d=t.n(m),p=t(63),h=t(77),f=t(236),_=t.n(f).a.create({baseURL:"http://emphasoft-test-assignment.herokuapp.com/",headers:{Authorization:"Token 781bd9f1de084f4daa7ba2aa8a71a2eab855354e"}}),E=function(e){var a=e.username,t=e.password,n=e.passwordConfirmation,r=e.firstName,s=e.lastName,u=e.email;return Promise.resolve({username:a,password:t,passwordConfirmation:n,firstName:r,lastName:s,email:u})},b=function(e,a){return"test_super","Nf<U4f<rDbtDxAPn",_.post("api-token-auth/",{username:"test_super",password:"Nf<U4f<rDbtDxAPn"}).then((function(e){return e.data}))},v={userId:null,username:null,isAuth:!1},g=function(e){return{type:"auth/SET_IS_AUTH",payload:{isAuth:e}}},w=function(e){return{type:"auth/SET_USERNAME",payload:{username:e}}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"auth/SET_IS_AUTH":case"auth/SET_USERNAME":return Object(h.a)(Object(h.a)({},e),a.payload);default:return e}},N=t(237),y=t(514),O=function(){return _.get("api/v1/users/").then((function(e){return e.data}))},x={isUsersDownloaded:!1,users:null},C=function(e){return{type:"user/SET_USERS",payload:{users:e}}},k=function(e){return{type:"user/SET_IS_USERS_DOWNLOADED",payload:{isUsersDownloaded:e}}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"user/SET_USERS":case"user/SET_IS_USERS_DOWNLOADED":return Object(h.a)(Object(h.a)({},e),a.payload);default:return e}},z=Object(o.c)({auth:S,user:j,form:y.a}),A=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,I=Object(o.e)(z,A(Object(o.a)(N.a)));window.__store__=I;var T=I,D=function(e){return e.auth.isAuth},F=function(e){return e.user.isUsersDownloaded},U=function(e){return e.user.users},B=t(194),R=t.n(B),P=t(274),L=t(240),q=t(241),V=t(272),M=t(279),H=t(515),J=t(517),K=t(72),W=t(512),X=t(518),Y=t(242),Z=t.n(Y),G=function(e){Object(M.a)(t,e);var a=Object(V.a)(t);function t(){var e;Object(L.a)(this,t);for(var n=arguments.length,s=new Array(n),u=0;u<n;u++)s[u]=arguments[u];return(e=a.call.apply(a,[this].concat(s))).state={searchText:"",searchedColumn:""},e.getColumnSearchProps=function(a){return{filterDropdown:function(t){var n=t.setSelectedKeys,s=t.selectedKeys,u=t.confirm,i=t.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(H.a,{ref:function(a){e.searchInput=a},placeholder:"Search ".concat(a),value:s[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return e.handleSearch(s,u,a)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(J.b,null,r.a.createElement(K.a,{type:"primary",onClick:function(){return e.handleSearch(s,u,a)},icon:r.a.createElement(X.a,null),size:"small",style:{width:90}},"Search"),r.a.createElement(K.a,{onClick:function(){return e.handleReset(i)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return r.a.createElement(X.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(e,t){return t[a]?t[a].toString().toLowerCase().includes(e.toLowerCase()):""},onFilterDropdownVisibleChange:function(a){a&&setTimeout((function(){return e.searchInput.select()}),100)},render:function(t){return e.state.searchedColumn===a?r.a.createElement(Z.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[e.state.searchText],autoEscape:!0,textToHighlight:t?t.toString():""}):t}}},e.handleSearch=function(a,t,n){t(),e.setState({searchText:a[0],searchedColumn:n})},e.handleReset=function(a){a(),e.setState({searchText:""})},e.handleResize=function(a){return function(t,n){var r=n.size;e.setState((function(e){var t=e.columns,n=Object(P.a)(t);return n[a]=Object(h.a)({},n[a],{width:r.width}),{columns:n}}))}},e}return Object(q.a)(t,[{key:"render",value:function(){var e=this,a=this.props.users,t=Object.keys(a[0]).map((function(a){var t={width:120};return"id"===a&&(t={defaultSortOrder:"ascend",sorter:function(e,a){return e.id-a.id},sortDirections:["ascend","descend","ascend"],width:50,fixed:"left"}),"username"===a&&(t=Object(h.a)({width:120},e.getColumnSearchProps("username"))),"is_active"===a&&(t={width:55}),t.title=a[0].toUpperCase()+a.slice(1),t.dataIndex=a,t.key=a,t}));return r.a.createElement(W.a,{columns:t,dataSource:a,bordered:!0,title:function(){return"User list"},size:"small",pagination:{position:["bottomCenter"]},rowKey:"id",scroll:{x:900},sticky:!0})}}]),t}(r.a.Component),Q=function(e){var a=Object(c.c)(F),t=Object(c.c)(U),s=Object(c.b)();return Object(n.useEffect)((function(){s(function(){var e=Object(p.a)(d.a.mark((function e(a){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:(t=e.sent)&&(a(C(t)),a(k(!0)));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}),[]),r.a.createElement("section",{className:R.a.user},r.a.createElement("div",{className:R.a.user__container},a&&r.a.createElement(G,{users:t})))},$=t(125),ee=t(513),ae=t(519),te=t(520),ne=t(41),re=t.n(ne),se=function(e,a,t){return a[e]?t[e]?"error":"success":""},ue=function(e){var a=e.values,t=e.touched,n=e.errors,s=e.handleChange,u=e.handleBlur,i=e.handleSubmit,c=e.isSubmitting;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:re.a.auth__top},r.a.createElement("h2",null,"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"),r.a.createElement("p",null,"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442")),r.a.createElement(ee.a,{name:"normal_login",className:"login-form",onSubmit:i},r.a.createElement(ee.a.Item,{validateStatus:se("username",t,n),help:t.username?n.username:null,hasFeedback:!0},r.a.createElement(H.a,{id:"username",prefix:r.a.createElement(ae.a,{size:"large",className:"site-form-item-icon"}),placeholder:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",size:"large",value:a.username,onChange:s,onBlur:u,className:re.a.auth__input})),r.a.createElement(ee.a.Item,{validateStatus:se("password",t,n),help:t.password?n.password:null,hasFeedback:!0},r.a.createElement(H.a.Password,{id:"password",prefix:r.a.createElement(te.a,{size:"large",className:"site-form-item-icon"}),placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",size:"large",value:a.password,onChange:s,onBlur:u,className:re.a.auth__input})),r.a.createElement(ee.a.Item,null,r.a.createElement(K.a,{onClick:i,disabled:c,type:"primary",size:"large",className:re.a.auth__buttonColor},"\u0412\u043e\u0439\u0442\u0438")),r.a.createElement(l.b,{className:re.a.auth__link,to:"/signup"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")))},ie=Object(i.g)(Object($.b)({enableReinitialize:!0,mapPropsToValues:function(){return{username:"",password:""}},validate:function(e){var a={};return function(e){e.isLogin;var a=e.values,t=e.errors,n={username:function(e){e?e.length>100&&(t.password="\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u043e\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"):t.username="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"},lastName:function(e){e?e.length>100&&(t.password="\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u0430\u044f \u0444\u0430\u043c\u0438\u043b\u0438\u044f"):t.username="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e"},firstName:function(e){e?e.length>100&&(t.password="\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u043e\u0435 \u0438\u043c\u044f"):t.username="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f"},password:function(e){e?e.length>100&&(t.password="\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"):t.password="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}};Object.keys(a).forEach((function(e){return n[e]&&n[e](a[e])}))}({isAuth:!1,values:e,errors:a}),a},handleSubmit:function(){var e=Object(p.a)(d.a.mark((function e(a,t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.setSubmitting,r=t.props,e.next=3,r.onSubmit(a.username,a.password);case 3:n(!1),r.history.push("/users");case 5:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),displayName:"LoginForm"})(ue)),le=function(){var e=Object(c.b)();return r.a.createElement(ie,{onSubmit:function(a,t){return e(function(e,a){return function(){var t=Object(p.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(e,a);case 2:t.sent?(n(g(!0)),n(w(e))):n(g(!1));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a,t))}})},ce=t(275),oe=t(521),me=t(522),de=t(82),pe=de.a().shape({username:de.c().max(50,"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u043e\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),lastName:de.c().max(50,"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u0430\u044f \u0444\u0430\u043c\u0438\u043b\u0438\u044f").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e"),firstName:de.c().max(50,"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u043e\u0435 \u0438\u043c\u044f").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f"),password:de.c().min(8,"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c").max(50,"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c").matches(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/,{message:"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043b\u0435\u0433\u043a\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",excludeEmptyString:!0}),passwordConfirmation:de.c().oneOf([de.b("password"),null],"\u041f\u0430\u0440\u043e\u043b\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c \u0435\u0449\u0435 \u0440\u0430\u0437"),email:de.c().email("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u043f\u043e\u0447\u0442\u044b").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0443\u044e \u043f\u043e\u0447\u0442\u0443")}),he=t(516),fe=function(e){var a=e.text,t=void 0===a?"":a,n=e.type,r=void 0===n?"info":n,s=e.title;return he.a[r]({message:s,description:t})},_e=function(e){var a=e.onSubmit,t=Object(n.useState)(!1),s=Object(ce.a)(t,2),u=s[0],i=s[1];return r.a.createElement(r.a.Fragment,null,u?r.a.createElement("div",{className:re.a.auth__successBlock},r.a.createElement(oe.a,null),r.a.createElement("h3",null,"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"),r.a.createElement("p",null,"\u043d\u0430 \u0432\u0430\u0448\u0443 \u043f\u043e\u0447\u0442\u0443 \u041f\u041e\u041a\u0410 \u0415\u0429\u0415 \u041d\u0415 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0438\u0441\u044c\u043c\u043e \u0441 \u0441\u0441\u044b\u043b\u043a\u043e\u0439 \u043d\u0430 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430.")):r.a.createElement("div",null,r.a.createElement("div",{className:re.a.auth__top},r.a.createElement("h2",null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")),r.a.createElement($.a,{enableReinitialize:!0,initialValues:{username:"",password:"",passwordConfirmation:"",email:"",firstName:"",lastName:""},validationSchema:pe,onSubmit:function(){var e=Object(p.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,e.next=3,a(t.username,t.password,t.firstName,t.lastName).then((function(){fe({title:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u0430!",type:"success"})}));case 3:i(!0),r(!1);case 5:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()},(function(e){var a=e.values,t=e.touched,n=e.errors,s=e.handleChange,u=e.handleBlur,i=(e.isValid,e.isSubmitting),c=e.onSubmit,o=e.handleSubmit;return r.a.createElement(ee.a,{className:"login-form",onSubmit:c},r.a.createElement(ee.a.Item,{validateStatus:se("email",t,n),help:t.email?n.email:null,hasFeedback:!0},r.a.createElement(H.a,{id:"email",prefix:r.a.createElement(me.a,{size:"large",className:"site-form-item-icon"}),placeholder:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430",size:"large",value:a.email,onChange:s,onBlur:u,className:re.a.auth__input})),r.a.createElement(ee.a.Item,{validateStatus:se("username",t,n),help:t.username?n.username:null,hasFeedback:!0},r.a.createElement(H.a,{id:"username",prefix:r.a.createElement(ae.a,{size:"large",className:"site-form-item-icon"}),placeholder:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",size:"large",value:a.username,onChange:s,onBlur:u,className:re.a.auth__input})),r.a.createElement(ee.a.Item,{validateStatus:se("lastName",t,n),help:t.lastName?n.lastName:null,hasFeedback:!0},r.a.createElement(H.a,{id:"lastName",prefix:r.a.createElement(ae.a,{size:"large",className:"site-form-item-icon"}),placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",size:"large",value:a.lastName,onChange:s,onBlur:u,className:re.a.auth__input})),r.a.createElement(ee.a.Item,{validateStatus:se("firstName",t,n),help:t.firstName?n.firstName:null,hasFeedback:!0},r.a.createElement(H.a,{id:"firstName",prefix:r.a.createElement(ae.a,{size:"large",className:"site-form-item-icon"}),placeholder:"\u0418\u043c\u044f",size:"large",value:a.firstName,onChange:s,onBlur:u,className:re.a.auth__input})),r.a.createElement(ee.a.Item,{validateStatus:se("password",t,n),help:t.password?n.password:null,hasFeedback:!0},r.a.createElement(H.a.Password,{id:"password",prefix:r.a.createElement(te.a,{size:"large",className:"site-form-item-icon"}),placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",size:"large",value:a.password,onChange:s,onBlur:u,className:re.a.auth__input})),r.a.createElement(ee.a.Item,{validateStatus:se("passwordConfirmation",t,n),help:t.passwordConfirmation?n.passwordConfirmation:null,hasFeedback:!0},r.a.createElement(H.a.Password,{id:"passwordConfirmation",prefix:r.a.createElement(te.a,{size:"large",className:"site-form-item-icon"}),placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",size:"large",value:a.passwordConfirmation,onChange:s,onBlur:u,className:re.a.auth__input})),r.a.createElement(ee.a.Item,null,r.a.createElement(K.a,{onClick:o,disabled:i,type:"primary",size:"large",className:re.a.auth__buttonColor},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")),r.a.createElement(l.b,{className:re.a.auth__Link,to:"/login"},"\u0412\u043e\u0439\u0442\u0438"))}))))},Ee=Object(i.g)(Object($.b)({enableReinitialize:!0,mapPropsToValues:function(){return{username:"",email:"",password:"",lastName:"",firstName:"",passwordConfirmation:""}},validateSchema:pe,handleSubmit:function(){var e=Object(p.a)(d.a.mark((function e(a,t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.setSubmitting,r=t.props,e.next=3,r.onSubmit(a);case 3:n(!1),r.history.push("/users");case 5:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),displayName:"LoginForm"})(_e)),be=function(){var e=Object(c.b)();return r.a.createElement(Ee,{onSubmit:function(a){return e(function(e){return function(){var a=Object(p.a)(d.a.mark((function a(t){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E(e);case 2:a.sent?(t(g(!0)),t(w(e.username))):t(g(!1));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(a))}})},ve=t(269),ge=t.n(ve),we=t(1),Se=t.n(we),Ne=function(e){var a=e.children,t=e.classname;return r.a.createElement("div",{className:Se()(ge.a.block,t)},a)},ye=function(){return r.a.createElement("div",{className:re.a.auth},r.a.createElement(Ne,null,r.a.createElement(i.b,{exact:!0,path:"/login",component:le}),r.a.createElement(i.b,{exact:!0,path:"/signup",component:be})))};function Oe(){var e=Object(c.c)(D);return r.a.createElement("div",{className:"wrapper"},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:["/login","/signup"],component:ye}),r.a.createElement(i.b,{exact:!0,path:"/users",component:Q}),r.a.createElement(i.b,{path:"/",render:function(){return e?r.a.createElement(Q,null):r.a.createElement(i.a,{to:"/login"})}})))}var xe=function(){return r.a.createElement(l.a,null,r.a.createElement(c.a,{store:T},r.a.createElement(Oe,null)))};u.a.render(r.a.createElement(xe,null),document.getElementById("root"))}},[[281,1,2]]]);
//# sourceMappingURL=main.23236d38.chunk.js.map